{
    "contents" : "context(\"Buttons\")\n\nappDir = file.path(system.file(package = \"shinyBS\"), \"tests\", \"buttons\")\n\nremoteApp <- runRemoteApp(appDir = appDir, port = 5000, launch.browser = FALSE)\n\nsource(file.path(appDir, \"global.R\"))\n\nremDr <- remoteDriver()\nremDr$open(silent = TRUE)\nremDr$navigate(\"http:127.0.0.1:5000\")\n\n#Convenience Functions\nid <- findElement(remDr, \"id\")\ncss <- findElement(remDr, \"css selector\")\ncscss <- findChildren(\"css selector\")\n\nactButs <- cscss(id(\"actionButs\"), \"button.sbs-action-button\")\ntogButs <- cscss(id(\"toggleButs\"), \"button.sbs-toggle-button\")\n\ntest_that(\"can connect to app\", {\n  appTitle <- remDr$getTitle()[[1]]\n  expect_equal(appTitle, \"shinyBS Buttons Test\")\n})\n\ntest_that(\"Action Buttons Work\", {\n  Sys.sleep(1)\n  for(but in actButs) {\n    bid <- getId(but)\n    expect_true(checkInputBinding(id(bid)), label = bid, info = \"binding check\")\n    txt <- id(paste0(\"t_\", bid))  \n    class <- getClass(but)\n    opts <- unlist(strsplit(bid, \"_\"))[-1]\n    classes <- unlist(strsplit(class, \" \"))\n    for(i in seq(2)) {\n      v <- as.integer(txt$getElementText()[[1]][1])\n      id(bid)$clickElement()\n      Sys.sleep(0.3)\n      if(hasClass(id(bid), \"disabled\")) {\n        expect_equal(as.integer(txt$getElementText()[[1]][1]), v,\n                     label = bid, info = paste(\"disabled click check:\", i))\n      } else {\n        expect_more_than(as.integer(txt$getElementText()[[1]][1]), v,\n                         label = bid, info = paste(\"enabled click check:\", i))\n      }\n    }\n    for(opt in opts) {\n      if(opt == \"disabled\") {\n        expect_true(hasClass(id(bid), \"disabled\"), \n                    info = 'action disabled check', \n                    label = bid)\n      } else {\n        expect_true(hasClass(id(bid), paste0(\"btn-\", opt)), \n                    info = paste(\"action\", opt, \"check\"), \n                    label = bid)\n      }\n    }\n  }\n})\n \ntest_that(\"Toggle Buttons Work\", {\n  Sys.sleep(1)\n  for(but in togButs) {\n    bid <- getId(but)\n    expect_true(checkInputBinding(id(bid)), label = bid, info = \"binding check\")\n    txt <- id(paste0(\"t_\", bid))  \n    class <- getClass(but)\n    opts <- unlist(strsplit(bid, \"_\"))[-1]\n    classes <- unlist(strsplit(class, \" \"))\n    for(i in seq(2)) {\n      v <- as.logical(txt$getElementText()[[1]][1])\n      id(bid)$clickElement()\n      Sys.sleep(0.3)\n      if(hasClass(id(bid), \"disabled\")) {\n        expect_equal(as.logical(txt$getElementText()[[1]][1]), v,\n                     label = bid, info = paste(\"click check:\", i))\n      } else {\n        expect_equal(as.logical(txt$getElementText()[[1]][1]), !v,\n                     label = bid, info = paste(\"click check:\", i))\n      }\n    }\n    for(opt in opts) {\n      if(opt == \"disabled\") {\n        expect_true(hasClass(id(bid), \"disabled\"), \n                    info = 'toggle disabled check', \n                    label = bid)\n      } else {\n        expect_true(hasClass(id(bid), paste0(\"btn-\", opt)), \n                    info = paste(\"toggle\", opt, \"check\"), \n                    label = bid)\n      }\n    }\n  }\n})\n\nremDr$close()\nclose(remoteApp)\n",
    "created" : 1404232336175.000,
    "dirty" : false,
    "encoding" : "ISO8859-1",
    "folds" : "",
    "hash" : "1888945350",
    "id" : "7AC6210B",
    "lastKnownWriteTime" : 1404225140,
    "path" : "C:/R/shinyBS/inst/tests/xtests_buttons.R",
    "project_path" : "inst/tests/xtests_buttons.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}